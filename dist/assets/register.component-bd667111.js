import{H as a,_ as d,o as p,c,a as e,w as n,v as l,d as m,p as _,e as f}from"./index-38f6e732.js";import{P as h}from"./Profile-service-4dd2bbb2.js";class w extends a{constructor(){super(),this.baseGet="users"}}const g={data(){return{user:{name:"",email:"",password:""},userProfile:{name:"",userId:""},confirmPassword:""}},async created(){this.userService=new w,this.profileService=new h},methods:{async register(){if(this.user.password!==this.confirmPassword){alert("Passwords don't match");return}await this.userService.create(this.user).then(t=>(this.userProfile.userId=t.data.id,console.log(t.data.id),this.profileService.create(this.userProfile))),console.log("Register with name:",this.user.name,"email:",this.user.email,"password:",this.user.password,"userName:",this.userProfile.name),this.toLogin()},toLogin(){this.$router.push("/login")}}},i=t=>(_("data-v-6fcc8209"),t=t(),f(),t),v={class:"register-container"},P=i(()=>e("h2",null,"Register",-1)),S={class:"form-group"},b=i(()=>e("label",null,"Name:",-1)),y={class:"form-group"},x=i(()=>e("label",null,"User Name:",-1)),I={class:"form-group"},U=i(()=>e("label",null,"Email:",-1)),V={class:"form-group"},q=i(()=>e("label",null,"Password:",-1)),N={class:"form-group"},B=i(()=>e("label",null,"Confirm password:",-1)),R=i(()=>e("button",{type:"submit",class:"register-button"},"Register",-1));function k(t,s,E,H,o,u){return p(),c("div",v,[P,e("form",{onSubmit:s[5]||(s[5]=m((...r)=>u.register&&u.register(...r),["prevent"])),class:"register-form"},[e("div",S,[b,n(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=r=>o.user.name=r),required:""},null,512),[[l,o.user.name]])]),e("div",y,[x,n(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=r=>o.userProfile.name=r),required:""},null,512),[[l,o.userProfile.name]])]),e("div",I,[U,n(e("input",{type:"email","onUpdate:modelValue":s[2]||(s[2]=r=>o.user.email=r),required:""},null,512),[[l,o.user.email]])]),e("div",V,[q,n(e("input",{type:"password","onUpdate:modelValue":s[3]||(s[3]=r=>o.user.password=r),required:""},null,512),[[l,o.user.password]])]),e("div",N,[B,n(e("input",{type:"password","onUpdate:modelValue":s[4]||(s[4]=r=>o.confirmPassword=r),required:""},null,512),[[l,o.confirmPassword]])]),R],32)])}const C=d(g,[["render",k],["__scopeId","data-v-6fcc8209"]]);export{C as default};
