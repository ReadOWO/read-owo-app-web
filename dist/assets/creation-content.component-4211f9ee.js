import{H as g,_ as b,B as m,o as n,c as s,a as o,F as c,r as p,t as _,p as k,e as f}from"./index-38f6e732.js";class v extends g{constructor(){super(),this.baseGet="bookgenre"}}class S extends g{constructor(){super(),this.baseGet="genre"}}const B={name:"creation-content.component",data(){return{books:[],bookgenres:[],booksByGenre:{}}},async created(){this.bookService=new m,this.bookGenreService=new v,this.genreService=new S,await this.creation()},methods:{async creation(){let t=await this.bookService.getAll();this.books=t.data;let i={},l={};for(let e of t.data)i[e.id]=e.title,l[e.id]=e.thumbnailUrl;console.log(i),console.log(l);let h=await this.genreService.getAll(),r={};for(let e of h.data)r[e.id]=e.name;console.log(r);let d=await this.bookGenreService.getAll();this.bookgenres=d.data.map(e=>(e.title=i[e.bookId],e.thumbnailUrl=l[e.bookId],e.genre=r[e.genreId],e)),console.log(d),this.bookgenres.forEach(e=>{this.booksByGenre[e.genre]||(this.booksByGenre[e.genre]=[]),this.booksByGenre[e.genre].push(e)}),new Date().toISOString().slice(0,10),console.log(Date())},showBookInfo(t){this.$router.push({name:"book-item",params:{id:t.id}})}}},y=t=>(k("data-v-8b9efb2f"),t=t(),f(),t),G=y(()=>o("h1",null,"POPULAR",-1)),w={class:"article-container"},I={class:"book-title"},x=["src","alt","onClick"],A={class:"article-container"},U={class:"book-title"},C=["src","alt"];function $(t,i,l,h,r,d){return n(),s(c,null,[o("div",null,[G,o("div",w,[o("ul",null,[(n(!0),s(c,null,p(r.books,(e,u)=>(n(),s("li",{key:e.id},[o("p",I,_(e.title),1),o("img",{class:"img-container",src:e.thumbnailUrl,alt:e.name,onClick:a=>this.showBookInfo(e)},null,8,x)]))),128))])])]),(n(!0),s(c,null,p(r.booksByGenre,(e,u)=>(n(),s("div",{key:u},[o("h1",null,_(u.toUpperCase()),1),o("div",A,[o("ul",null,[(n(!0),s(c,null,p(e,(a,D)=>(n(),s("li",{key:a.id},[o("p",U,_(a.title),1),o("img",{class:"img-container",src:a.thumbnailUrl,alt:t.name},null,8,C)]))),128))])])]))),128))],64)}const F=b(B,[["render",$],["__scopeId","data-v-8b9efb2f"]]);export{F as default};
